<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="EventFinderClient.Views.ProfilePage"
             Title="Профиль">

    <ScrollView>
        <VerticalStackLayout>

            <ActivityIndicator IsRunning="{Binding IsBusy}"
                               IsVisible="{Binding IsBusy}"
                               HorizontalOptions="Center"
                               Margin="0,40" />

            <StackLayout IsVisible="{Binding IsBusy, Converter={StaticResource InverseBoolConverter}}"
                         Padding="20" Spacing="15">

                <Label Text="Профиль пользователя" 
                       Style="{StaticResource Title}"
                       HorizontalOptions="Center"
                       Margin="0,20,0,20" />

                <Frame Style="{StaticResource Card}">
                    <VerticalStackLayout Spacing="15">

                        <VerticalStackLayout Spacing="5">
                            <Label Text="Имя пользователя" 
                                   Style="{StaticResource Caption}"
                                   TextColor="{StaticResource Gray}" />
                            <Label Text="{Binding Username}"
                                   Style="{StaticResource Body}"
                                   FontAttributes="Bold" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Spacing="5">
                            <Label Text="Email" 
                                   Style="{StaticResource Caption}"
                                   TextColor="{StaticResource Gray}" />
                            <Label Text="{Binding Email}"
                                   Style="{StaticResource Body}" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Spacing="5">
                            <Label Text="Роль" 
                                   Style="{StaticResource Caption}"
                                   TextColor="{StaticResource Gray}" />
                            <Label Text="{Binding Role}"
                                   Style="{StaticResource Body}"
                                   TextColor="{StaticResource Primary}" />
                        </VerticalStackLayout>

                        <VerticalStackLayout Spacing="5">
                            <Label Text="Дата регистрации" 
                                   Style="{StaticResource Caption}"
                                   TextColor="{StaticResource Gray}" />
                            <Label Text="{Binding CreatedAt}"
                                   Style="{StaticResource Body}" />
                        </VerticalStackLayout>

                    </VerticalStackLayout>
                </Frame>

                <Button Text="Выйти"
                        Command="{Binding LogoutCommand}"
                        Style="{StaticResource ErrorButton}"
                        Margin="0,20,0,0" />

            </StackLayout>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>